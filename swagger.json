{
  "openapi": "3.0.0",
  "info": {
    "title": "Simple Inventory API",
    "description": "This is a simple API",
    "contact": {
      "email": "you@your-company.com"
    },
    "license": {
      "name": "Apache 2.0",
      "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
    },
    "version": "2.0.0"
  },
  "servers": [
    {
      "url": "https://virtserver.swaggerhub.com/VITYLJATROJAN/nika-gold/2.0.0",
      "description": "SwaggerHub API Auto Mocking"
    }
  ],
  "tags": [
    {
      "name": "Products",
      "description": "CRUD операції, пошук, популярні товари і фільтри продуктів"
    },
    {
      "name": "Auth",
      "description": "Авторизація користувачів, токени і управління доступом"
    },
    {
      "name": "User",
      "description": "Операції з профілем користувача, включаючи список бажань і корзину"
    },
    {
      "name": "Admin",
      "description": "Операції для адміністраторів, включаючи доступ до адмінської панелі, керування користувачами та продуктами."
    }
  ],

  "paths": {
    "/api/products": {
      "get": {
        "tags": ["Products"],
        "summary": "Отримати всі продукти",
        "responses": {
          "200": {
            "description": "Список всіх продуктів",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      },
      "post": {
        "tags": ["Products"],
        "summary": "Додавання нового продукту",
        "requestBody": {
          "description": "Інформація про продукт для додавання",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Product"
              },
              "example": {
                "name": "Rose red box",
                "category": "box",
                "subcategory": "box",
                "price": 30,
                "description": "Beautiful red rose in a box",
                "photoUrl": "https://example.com/photo.jpg",
                "size": "rose red",
                "width": 100,
                "length": 150,
                "color": "red",
                "inStock": true,
                "visible": true
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Продукт додано",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Product"
                },
                "example": {
                  "id": 1,
                  "name": "Example Product",
                  "price": 99.99,
                  "description": "This is an example product"
                }
              }
            }
          },
          "400": {
            "description": "Помилка валідації даних"
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      }
    },
    "/api/products/{type}": {
      "get": {
        "tags": ["Products"],
        "summary": "Отримати продукти за типом",
        "parameters": [
          {
            "name": "type",
            "in": "path",
            "description": "Тип продукту",
            "required": true,
            "style": "simple",
            "explode": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Список продуктів за типом",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      }
    },
    "/api/products/{id}": {
      "delete": {
        "tags": ["Products"],
        "summary": "Видалити продукт",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Ідентифікатор продукту",
            "required": true,
            "style": "simple",
            "explode": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Продукт видалено",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Product"
                }
              }
            }
          },
          "404": {
            "description": "Продукт не знайдено"
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      },
      "get": {
        "tags": ["Products"],
        "summary": "Отримати детальну інформацію про продукт",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Ідентифікатор продукту",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Детальна інформація про продукт.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Product"
                }
              }
            }
          },
          "404": {
            "description": "Продукт не знайдено."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      },
      "patch": {
        "tags": ["Products"],
        "summary": "Оновлення продукту",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Ідентифікатор продукту",
            "required": true,
            "style": "simple",
            "explode": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Product"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Продукт оновлено",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Product"
                }
              }
            }
          },
          "404": {
            "description": "Продукт не знайдено"
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      }
    },

    "/api/products/filters": {
      "post": {
        "tags": ["Products"],
        "summary": "Фільтрація продуктів за категоріями, цінами тощо",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "priceRange": {
                    "type": "object",
                    "properties": {
                      "min": { "type": "number" },
                      "max": { "type": "number" }
                    }
                  },
                  "categories": {
                    "type": "array",
                    "items": { "type": "string" }
                  },
                  "materials": {
                    "type": "array",
                    "items": { "type": "string" }
                  }
                }
              },
              "example": {
                "priceRange": { "min": 10, "max": 100 },
                "categories": ["bracelets", "chains"],
                "materials": ["gold", "silver"],
                "subcategory": ["box", "rings"],
                "color": ["red", "white"],
                "inStock": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Відфільтровані продукти успішно отримано.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "400": { "description": "Некоректний запит." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/products/popular": {
      "get": {
        "tags": ["Products"],
        "summary": "Отримати популярні товари",
        "description": "Цей маршрут повертає список найбільш популярних товарів на основі переглядів, продажів чи інших метрик.",
        "responses": {
          "200": {
            "description": "Список популярних товарів успішно отримано.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/search": {
      "get": {
        "tags": ["Search"],
        "summary": "Search for products by query",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "description": "The query to search for in product names or descriptions.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Search results retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing query parameter."
          },
          "404": {
            "description": "No products found matching the query."
          },
          "500": {
            "description": "Internal server error."
          }
        }
      }
    },
    "/api/auth/check-admin": {
      "get": {
        "tags": ["Auth"],
        "summary": "Перевірка першого адміністратора",
        "responses": {
          "200": {
            "description": "Перевірка наявності першого адміністратора",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/inline_response_200"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/register/user": {
      "post": {
        "tags": ["Auth"],
        "summary": "Реєстрація нового користувача",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Auth"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Користувача зареєстровано"
          },
          "400": {
            "description": "Невірний запит"
          }
        }
      }
    },
    "/api/auth/register/admin": {
      "post": {
        "tags": ["Auth"],
        "summary": "Реєстрація нового адміністратора",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Auth"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Адміністратора зареєстровано"
          },
          "400": {
            "description": "Невірний запит"
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "tags": ["Auth"],
        "summary": "Авторизація користувача",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": { "type": "string", "example": "user@example.com" },
                  "password": { "type": "string", "example": "password123" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Успішна авторизація",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": { "type": "string" },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "401": { "description": "Неправильний логін або пароль" },
          "500": { "description": "Внутрішня помилка сервера" }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "tags": ["Auth"],
        "summary": "Вихід з системи",
        "responses": {
          "200": { "description": "Успішний вихід" },
          "500": { "description": "Внутрішня помилка сервера" }
        }
      }
    },
    "/api/auth/reset-password": {
      "post": {
        "tags": ["Auth"],
        "summary": "Відновлення пароля",
        "description": "Цей маршрут надсилає посилання для відновлення пароля на електронну пошту користувача.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "description": "Електронна пошта користувача",
                    "format": "email",
                    "example": "user@example.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Посилання для відновлення пароля надіслано."
          },
          "404": {
            "description": "Користувач із вказаною електронною поштою не знайдений."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      }
    },
    "/api/auth/update-password": {
      "post": {
        "tags": ["Auth"],
        "summary": "Оновлення пароля",
        "description": "Цей маршрут дозволяє користувачу оновити свій пароль за допомогою токена відновлення.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "token": {
                    "type": "string",
                    "description": "Токен відновлення пароля",
                    "example": "reset-token-123"
                  },
                  "newPassword": {
                    "type": "string",
                    "description": "Новий пароль",
                    "format": "password",
                    "example": "newPassword123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Пароль оновлено успішно."
          },
          "400": {
            "description": "Неправильний або прострочений токен."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      }
    },
    "/api/auth/refresh-token": {
      "post": {
        "tags": ["Auth"],
        "summary": "Оновлення токена доступу",
        "description": "Цей маршрут генерує новий токен доступу, використовуючи валідний refresh-токен.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "refreshToken": {
                    "type": "string",
                    "description": "Refresh-токен",
                    "example": "refresh-token-123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Новий токен доступу створено успішно.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "accessToken": {
                      "type": "string",
                      "description": "Новий токен доступу",
                      "example": "new-access-token-123"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Неправильний або прострочений refresh-токен."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      }
    },
    "/api/auth/user": {
      "get": {
        "tags": ["User"],
        "summary": "Отримати дані користувача",
        "responses": {
          "200": {
            "description": "Дані про користувача",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "401": { "description": "Неавторизований користувач" },
          "500": { "description": "Внутрішня помилка сервера" }
        }
      }
    },
    "/api/admin/users": {
      "get": {
        "tags": ["Admin"],
        "summary": "Отримати список всіх користувачів",
        "responses": {
          "200": {
            "description": "Список користувачів",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/User" }
                }
              }
            }
          },
          "403": { "description": "Доступ заборонений" },
          "500": { "description": "Внутрішня помилка сервера" }
        }
      }
    },
    "/api/admin/users/{id}": {
      "delete": {
        "tags": ["Admin"],
        "summary": "Видалити користувача",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Ідентифікатор користувача",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Користувача видалено" },
          "404": { "description": "Користувач не знайдений" },
          "500": { "description": "Внутрішня помилка сервера" }
        }
      }
    },
    "/api/admin/products": {
      "get": {
        "tags": ["Admin"],
        "summary": "Отримати список всіх продуктів",
        "description": "Повертає список всіх продуктів з бази даних.",
        "responses": {
          "200": {
            "description": "Список продуктів успішно отримано.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string" },
                      "name": { "type": "string" },
                      "category": { "type": "string" },
                      "subcategory": { "type": "string" },
                      "price": { "type": "number" },
                      "description": { "type": "string" },
                      "photoUrl": { "type": "string" },
                      "size": { "type": "string" },
                      "width": { "type": "integer" },
                      "length": { "type": "integer" },
                      "color": { "type": "string" },
                      "quantity": { "type": "integer" },
                      "index": { "type": "string" },
                      "purchasePrice": { "type": "number" },
                      "inStock": { "type": "boolean" },
                      "visible": { "type": "boolean" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Помилка сервера при отриманні продуктів."
          }
        }
      },
      "post": {
        "tags": ["Admin"],
        "summary": "Додати новий продукт",
        "description": "Додає новий продукт до бази даних.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string", "example": "Rose Box" },
                  "category": { "type": "string", "example": "Box" },
                  "subcategory": { "type": "string", "example": "Gift" },
                  "price": { "type": "number", "example": 30 },
                  "description": {
                    "type": "string",
                    "example": "Beautiful rose in a box"
                  },
                  "photoUrl": {
                    "type": "string",
                    "example": "https://example.com/photo.jpg"
                  },
                  "size": { "type": "string", "example": "Medium" },
                  "width": { "type": "integer", "example": 100 },
                  "length": { "type": "integer", "example": 150 },
                  "color": { "type": "string", "example": "Red" },
                  "quantity": { "type": "integer", "example": 10 },
                  "index": { "type": "string", "example": "RBX-123" },
                  "purchasePrice": { "type": "number", "example": 20 },
                  "inStock": { "type": "boolean", "example": true },
                  "visible": { "type": "boolean", "example": true }
                },
                "required": ["name", "category", "price", "description"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Продукт успішно додано.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string" },
                    "message": {
                      "type": "string",
                      "example": "Product added successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Некоректні дані у запиті."
          },
          "500": {
            "description": "Помилка сервера."
          }
        }
      }
    },
    "/api/admin/products/{id}": {
      "delete": {
        "tags": ["Admin"],
        "summary": "Видалення продукту за ID",
        "description": "Цей маршрут дозволяє адміністратору видалити продукт за унікальним ID.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Ідентифікатор продукту",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Продукт видалено успішно."
          },
          "404": {
            "description": "Продукт не знайдено."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      },
      "patch": {
        "tags": ["Admin"],
        "summary": "Оновити продукт",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Ідентифікатор продукту",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/Product" }
            }
          }
        },
        "responses": {
          "200": { "description": "Продукт оновлено" },
          "404": { "description": "Продукт не знайдено" },
          "500": { "description": "Внутрішня помилка сервера" }
        }
      }
    },

    "/api/admin/dashboard": {
      "get": {
        "tags": ["Admin"],
        "summary": "Адмінська панель",
        "description": "Надає доступ до основної панелі адміністратора для перегляду статистики, популярних товарів, низьких залишків і списків бажань.",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": true,
            "description": "Bearer-токен для авторизації адміністратора.",
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJI..."
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Дані адмінської панелі успішно отримано.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Привітання з інформацією про адміністратора."
                    },
                    "stats": {
                      "type": "object",
                      "description": "Загальна статистика системи.",
                      "properties": {
                        "totalUsers": {
                          "type": "integer",
                          "description": "Кількість користувачів у системі."
                        },
                        "totalProducts": {
                          "type": "integer",
                          "description": "Кількість товарів у базі даних."
                        },
                        "activeUsers": {
                          "type": "integer",
                          "description": "Користувачі, які були активними за певний період."
                        }
                      }
                    },
                    "productsOverview": {
                      "type": "object",
                      "description": "Огляд продуктів.",
                      "properties": {
                        "lowStockItems": {
                          "type": "array",
                          "description": "Список товарів із низькими залишками.",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": { "type": "string" },
                              "stock": { "type": "integer" },
                              "photo": { "type": "string" },
                              "index": { "type": "string" }
                            }
                          }
                        },
                        "popularItems": {
                          "type": "array",
                          "description": "Список найпопулярніших товарів.",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": { "type": "string" },
                              "popularity": { "type": "integer" },
                              "photo": { "type": "string" },
                              "index": { "type": "string" }
                            }
                          }
                        }
                      }
                    },
                    "wishlistOverview": {
                      "type": "array",
                      "description": "Список бажаних товарів.",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": { "type": "string" },
                          "count": { "type": "integer" },
                          "photo": { "type": "string" },
                          "index": { "type": "string" }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": { "description": "Токен відсутній або недійсний." },
          "403": {
            "description": "Доступ заборонено для неадміністративних користувачів."
          }
        }
      }
    },
    "/api/admin/finance": {
      "get": {
        "tags": ["Admin"],
        "summary": "Фінансова панель",
        "description": "Надає доступ до фінансової інформації, включаючи продажі, витрати і замовлення.",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": true,
            "description": "Bearer-токен для авторизації адміністратора.",
            "schema": {
              "type": "string",
              "example": "Bearer eyJhbGciOiJI..."
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Фінансові дані успішно отримано.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "salesData": {
                      "type": "object",
                      "description": "Продажі та фінансова інформація.",
                      "properties": {
                        "salesCount": {
                          "type": "integer",
                          "description": "Кількість проданих товарів."
                        },
                        "netProfit": {
                          "type": "number",
                          "description": "Чистий дохід."
                        }
                      }
                    },
                    "financialOverview": {
                      "type": "object",
                      "description": "Фінансовий огляд.",
                      "properties": {
                        "purchasePrices": {
                          "type": "array",
                          "description": "Ціни закупівель.",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": { "type": "string" },
                              "purchasePrice": { "type": "number" },
                              "photo": { "type": "string" },
                              "index": { "type": "string" }
                            }
                          }
                        },
                        "markupOverview": {
                          "type": "array",
                          "description": "Націнка на товари.",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": { "type": "string" },
                              "markup": { "type": "number" },
                              "photo": { "type": "string" },
                              "index": { "type": "string" }
                            }
                          }
                        }
                      }
                    },
                    "ordersOverview": {
                      "type": "array",
                      "description": "Історія замовлень.",
                      "items": {
                        "type": "object",
                        "properties": {
                          "orderId": {
                            "type": "string",
                            "description": "Ідентифікатор замовлення."
                          },
                          "status": {
                            "type": "string",
                            "description": "Статус замовлення (нове, виконано, скасовано)."
                          },
                          "totalPrice": {
                            "type": "number",
                            "description": "Сума замовлення."
                          },
                          "paymentStatus": {
                            "type": "string",
                            "description": "Статус оплати."
                          },
                          "deliveryAddress": {
                            "type": "string",
                            "description": "Адреса доставки."
                          },
                          "notes": {
                            "type": "string",
                            "description": "Нотатки щодо замовлення."
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": { "description": "Токен відсутній або недійсний." },
          "403": {
            "description": "Доступ заборонено для неадміністративних користувачів."
          }
        }
      }
    },
    "/api/user/main": {
      "get": {
        "tags": ["User"],
        "summary": "Отримати основну інформацію для користувача",
        "description": "Цей маршрут повертає основні дані користувача, включаючи профіль та список продуктів.",
        "responses": {
          "200": {
            "description": "Дані користувача успішно отримані.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Welcome to the main page"
                    },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string", "example": "12345" },
                        "name": { "type": "string", "example": "John Doe" },
                        "role": { "type": "string", "example": "user" },
                        "preferences": {
                          "type": "array",
                          "items": { "type": "string" },
                          "example": ["electronics", "books"]
                        }
                      }
                    },
                    "products": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Product"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Неавторизований користувач."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },

    "/api/user/profile": {
      "get": {
        "tags": ["User"],
        "summary": "Отримати профіль користувача",
        "responses": {
          "200": {
            "description": "Профіль користувача отримано успішно.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              }
            }
          },
          "401": { "description": "Неавторизований користувач." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      },
      "put": {
        "tags": ["User"],
        "summary": "Оновити профіль користувача",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserProfile"
              },
              "example": {
                "username": "NewUsername",
                "email": "newemail@example.com",
                "avatar": "https://example.com/new-avatar.jpg"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Профіль користувача оновлено успішно."
          },
          "400": { "description": "Некоректний формат запиту." },
          "401": { "description": "Неавторизований користувач." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/user/avatar": {
      "post": {
        "tags": ["User"],
        "summary": "Завантаження або зміна аватара",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "avatar": {
                    "type": "string",
                    "format": "binary",
                    "description": "Файл аватара для завантаження."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Аватар оновлено успішно."
          },
          "400": { "description": "Некоректний формат запиту." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/wishlist": {
      "get": {
        "tags": ["Wishlist"],
        "summary": "Отримати список бажань користувача",
        "responses": {
          "200": {
            "description": "Список бажань отримано успішно.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/wishlist/add": {
      "post": {
        "tags": ["Wishlist"],
        "summary": "Додати товар до списку бажань",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "_id": {
                    "type": "string",
                    "description": "ID товару."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Товар додано до списку бажань."
          },
          "400": { "description": "Некоректний запит." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/wishlist/remove/{id}": {
      "delete": {
        "tags": ["Wishlist"],
        "summary": "Видалити товар зі списку бажань",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID товару для видалення.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Товар видалено зі списку бажань."
          },
          "404": { "description": "Товар не знайдено." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/wishlist/move-to-cart/{id}": {
      "post": {
        "tags": ["Wishlist"],
        "summary": "Перемістити товар зі списку бажань до кошика",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID товару зі списку бажань, який потрібно перемістити.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {}
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Товар успішно переміщено до кошика."
          },
          "400": {
            "description": "Некоректний запит."
          },
          "404": {
            "description": "Товар не знайдено у списку бажань."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      }
    },

    "/api/user/preferences": {
      "post": {
        "tags": ["User"],
        "summary": "Зберегти персональні налаштування",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "preferences": {
                    "type": "array",
                    "description": "Список обраних категорій.",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              },
              "example": {
                "preferences": ["category1", "category2"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Налаштування збережено успішно."
          },
          "400": { "description": "Некоректний формат запиту." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/shopping-cart": {
      "get": {
        "tags": ["Shopping"],
        "summary": "Отримати список товарів у корзині",
        "responses": {
          "200": {
            "description": "Список товарів у корзині успішно отримано.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/shopping-cart/add": {
      "post": {
        "tags": ["Shopping"],
        "summary": "Додати товар до корзини",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "productId": {
                    "type": "string",
                    "description": "ID товару."
                  },
                  "quantity": {
                    "type": "integer",
                    "description": "Кількість товару.",
                    "example": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Товар додано до корзини."
          },
          "400": { "description": "Некоректний запит." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/shopping-cart/update/{id}": {
      "patch": {
        "tags": ["Shopping"],
        "summary": "Оновити кількість товару у корзині",
        "parameters": [
          {
            "name": "productId",
            "in": "path",
            "description": "ID товару для оновлення кількості.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "quantity": {
                    "type": "integer",
                    "description": "Нова кількість товару у корзині.",
                    "example": 2
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Кількість товару успішно оновлено."
          },
          "400": {
            "description": "Некоректний запит."
          },
          "404": {
            "description": "Товар не знайдено."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      }
    },
    "/api/shopping-cart/remove/{id}": {
      "delete": {
        "tags": ["Shopping"],
        "summary": "Видалити товар з корзини",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID товару для видалення.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "quantity": {
                    "type": "integer",
                    "description": "Нова кількість товару у корзині.",
                    "example": 2
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Товар успішно видалено з корзини."
          },
          "400": {
            "description": "Некоректний запит."
          },
          "404": {
            "description": "Товар не знайдено."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      }
    },
    "/api/shopping-cart/move-to-wishlist/{id}": {
      "post": {
        "tags": ["Shopping"],
        "summary": "Перемістити товар з корзини до списку бажань",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID товару у корзині, який потрібно перемістити.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {}
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Товар успішно переміщено до списку бажань."
          },
          "400": {
            "description": "Некоректний запит."
          },
          "404": {
            "description": "Товар не знайдено у корзині."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      }
    },
    "/api/user/purchase-history": {
      "get": {
        "tags": ["User"],
        "summary": "Отримати історію покупок користувача",
        "description": "Цей маршрут повертає список усіх минулих покупок користувача.",
        "responses": {
          "200": {
            "description": "Історію покупок успішно отримано.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Purchase"
                  }
                }
              }
            }
          },
          "401": { "description": "Неавторизований користувач." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },

    "/api/subscribe": {
      "post": {
        "tags": ["Subscription"],
        "summary": "Підписка на нові товари",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Subscription"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Підписка оформлена"
          },
          "400": {
            "description": "Невірний запит"
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      }
    },
    "/api/unsubscribe": {
      "post": {
        "tags": ["Subscription"],
        "summary": "Відписка від нових товарів",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Unsubscription"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Відписка успішна"
          },
          "400": {
            "description": "Невірний запит"
          },
          "404": {
            "description": "Електронну пошту не знайдено"
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Error": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "Код помилки.",
            "example": 500
          },
          "message": {
            "type": "string",
            "description": "Опис помилки.",
            "example": "Internal server error."
          }
        }
      },
      "Auth": {
        "required": ["email", "password", "username"],
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "description": "Ім'я користувача"
          },
          "email": {
            "type": "string",
            "description": "Електронна пошта користувача",
            "format": "email"
          },
          "password": {
            "type": "string",
            "description": "Пароль користувача",
            "format": "password"
          },
          "avatar": {
            "type": "string",
            "description": "URL аватара користувача"
          },
          "basket": {
            "type": "array",
            "description": "Кошик користувача",
            "items": {
              "type": "string"
            }
          },
          "createdAt": {
            "type": "string",
            "description": "Дата створення аккаунту",
            "format": "date-time"
          },
          "role": {
            "type": "string",
            "description": "Роль користувача",
            "example": "user"
          },
          "tokenStatus": {
            "type": "string",
            "description": "Статус токена (активний, прострочений)."
          }
        }
      },
      "response_200": {
        "type": "object",
        "properties": {
          "isFirstAdmin": {
            "type": "boolean"
          }
        }
      },

      "Product": {
        "required": [
          "name",
          "category",
          "subcategory",
          "price",
          "description",
          "photoUrl",
          "size",
          "width",
          "length",
          "color",
          "inStock",
          "visible"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Назва продукту",
            "example": "Rose red box"
          },
          "category": {
            "type": "string",
            "description": "Категорія продукту",
            "example": "box"
          },
          "subcategory": {
            "type": "string",
            "description": "Підкатегорія продукту",
            "example": "box"
          },
          "price": {
            "type": "number",
            "description": "Ціна продукту",
            "example": 30
          },
          "description": {
            "type": "string",
            "description": "Опис продукту",
            "example": "Beautiful red rose in a box"
          },
          "photoUrl": {
            "type": "string",
            "description": "Посилання на фото продукту",
            "example": "https://example.com/photo.jpg"
          },
          "size": {
            "type": "string",
            "description": "Розмір продукту",
            "example": "rose red"
          },
          "width": {
            "type": "number",
            "description": "Ширина продукту в мм",
            "example": 100
          },
          "length": {
            "type": "number",
            "description": "Довжина продукту в см",
            "example": 150
          },
          "color": {
            "type": "string",
            "description": "Колір продукту",
            "example": "red"
          },
          "inStock": {
            "type": "boolean",
            "description": "Чи є продукт в наявності",
            "example": true
          },
          "visible": {
            "type": "boolean",
            "description": "Чи видимий продукт",
            "example": true
          },
          "rating": {
            "type": "number",
            "description": "Середній рейтинг продукту",
            "example": 4.5
          },
          "discount": {
            "type": "number",
            "description": "Знижка на продукт",
            "example": 10
          },
          "popularity": {
            "type": "number",
            "description": "Популярність продукту",
            "example": 100
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Дата створення продукту",
            "example": "2025-04-05T16:08:53.968Z"
          }
        }
      },
      "Review": {
        "type": "object",
        "properties": {
          "reviewId": {
            "type": "string",
            "description": "ID відгуку."
          },
          "productId": {
            "type": "string",
            "description": "ID продукту, на який залишено відгук."
          },
          "userId": {
            "type": "string",
            "description": "ID користувача, який залишив відгук."
          },
          "rating": {
            "type": "number",
            "description": "Рейтинг продукту.",
            "example": 4.5
          },
          "comment": {
            "type": "string",
            "description": "Текст відгуку."
          },
          "createdAt": {
            "type": "string",
            "description": "Дата створення відгуку.",
            "format": "date-time"
          }
        }
      },
      "markupOverview": {
        "type": "array",
        "description": "Націнка на товари.",
        "items": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "description": "Назва товару."
            },
            "markup": {
              "type": "number",
              "description": "Націнка на товар."
            },
            "photo": {
              "type": "string",
              "description": "Посилання на фото товару."
            },
            "index": {
              "type": "string",
              "description": "Унікальний код товару."
            }
          }
        }
      },

      "UserProfile": {
        "required": ["email", "username"],
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "description": "Ім'я користувача"
          },
          "email": {
            "type": "string",
            "description": "Електронна пошта користувача",
            "format": "email"
          },
          "avatar": {
            "type": "string",
            "description": "URL аватара користувача"
          },
          "basket": {
            "type": "array",
            "description": "Кошик користувача",
            "items": {
              "type": "string"
            }
          },
          "createdAt": {
            "type": "string",
            "description": "Дата створення аккаунту",
            "format": "date-time"
          },
          "role": {
            "type": "string",
            "description": "Роль користувача (наприклад, 'admin', 'user')",
            "example": "admin"
          },
          "isActive": {
            "type": "boolean",
            "description": "Статус аккаунту користувача (активний чи деактивований).",
            "default": true
          }
        }
      },
      "Subscription": {
        "required": ["email"],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Електронна пошта для підписки",
            "format": "email"
          },
          "preferences": {
            "type": "array",
            "description": "Список категорій, на які користувач хоче підписатися",
            "items": {
              "type": "string"
            }
          },
          "subscriptionType": {
            "type": "string",
            "description": "Тип підписки (наприклад, 'newsletter', 'promotions')."
          }
        }
      },
      "Unsubscription": {
        "required": ["email"],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Електронна пошта для відписки",
            "format": "email"
          }
        }
      },

      "AdminDashboard": {
        "type": "object",
        "description": "Дані для адміністративної панелі, яка надає загальну статистику та інформацію про користувачів.",
        "properties": {
          "message": {
            "type": "string",
            "description": "Привітання, яке включає ім'я або електронну адресу адміністратора."
          },
          "stats": {
            "$ref": "#/components/schemas/DashboardStats",
            "description": "Об'єкт, який містить загальну статистику системи."
          },
          "users": {
            "type": "array",
            "description": "Список користувачів з базовою інформацією про них.",
            "items": {
              "$ref": "#/components/schemas/UserProfile"
            }
          }
        }
      },
      "DashboardStats": {
        "type": "object",
        "description": "Статистика адмін-панелі, яка включає дані про користувачів та продукти.",
        "properties": {
          "totalUsers": {
            "type": "integer",
            "description": "Загальна кількість зареєстрованих користувачів."
          },
          "totalProducts": {
            "type": "integer",
            "description": "Загальна кількість товарів у системі."
          },
          "activeUsers": {
            "type": "integer",
            "description": "Кількість користувачів, активних за останній період."
          }
        }
      },
      "LowStockItem": {
        "type": "object",
        "description": "Товар із низькими залишками.",
        "properties": {
          "name": { "type": "string", "description": "Назва товару." },
          "stock": {
            "type": "integer",
            "description": "Кількість залишків на складі."
          },
          "photo": {
            "type": "string",
            "description": "Посилання на фото товару."
          },
          "index": {
            "type": "string",
            "description": "Унікальний код товару."
          }
        }
      },
      "PopularItem": {
        "type": "object",
        "description": "Популярний товар.",
        "properties": {
          "name": { "type": "string", "description": "Назва товару." },
          "popularity": {
            "type": "integer",
            "description": "Рівень популярності товару."
          },
          "photo": {
            "type": "string",
            "description": "Посилання на фото товару."
          },
          "index": {
            "type": "string",
            "description": "Унікальний код товару."
          }
        }
      },
      "WishlistItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Унікальний ідентифікатор елемента списку бажань."
          },
          "name": {
            "type": "string",
            "description": "Назва товару."
          },
          "photoUrl": {
            "type": "string",
            "description": "Зображення товару."
          },
          "color": {
            "type": "string",
            "description": "Колір товару.",
            "example": "Red"
          },
          "quantity": {
            "type": "number",
            "description": "Кількість товару в списку бажань.",
            "example": 2
          },
          "price": {
            "type": "number",
            "description": "Ціна товару.",
            "example": 100.5
          },
          "inStock": {
            "type": "boolean",
            "description": "Чи є товар у наявності.",
            "example": true
          },
          "productId": {
            "type": "string",
            "description": "Унікальний ідентифікатор продукту."
          },
          "addedAt": {
            "type": "string",
            "description": "Дата додавання до списку бажань.",
            "format": "date-time",
            "example": "2023-04-01T12:34:56Z"
          }
        }
      },

      "SalesData": {
        "type": "object",
        "description": "Дані про продажі.",
        "properties": {
          "salesCount": {
            "type": "integer",
            "description": "Кількість проданих товарів."
          },
          "netProfit": {
            "type": "number",
            "description": "Чистий дохід від продажів."
          }
        }
      },
      "FinancialOverview": {
        "type": "object",
        "description": "Огляд фінансів.",
        "properties": {
          "purchasePrices": {
            "type": "array",
            "description": "Ціни закупівель.",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Назва товару."
                },
                "purchasePrice": {
                  "type": "number",
                  "description": "Ціна закупівлі товару."
                },
                "photo": {
                  "type": "string",
                  "description": "Посилання на фото товару."
                },
                "index": {
                  "type": "string",
                  "description": "Унікальний код товару."
                }
              }
            }
          }
        }
      },
      "Order": {
        "type": "object",
        "description": "Дані про замовлення.",
        "properties": {
          "orderId": {
            "type": "string",
            "description": "Унікальний ідентифікатор замовлення."
          },
          "status": {
            "type": "string",
            "description": "Статус замовлення (наприклад, 'completed')."
          },
          "totalPrice": {
            "type": "number",
            "description": "Загальна сума замовлення."
          },
          "paymentStatus": {
            "type": "string",
            "description": "Статус оплати (наприклад, 'paid')."
          },
          "deliveryAddress": {
            "type": "string",
            "description": "Адреса доставки."
          },
          "notes": {
            "type": "string",
            "description": "Додаткові нотатки щодо замовлення."
          }
        }
      },
      "Purchase": {
        "type": "object",
        "description": "Дані про покупку.",
        "properties": {
          "orderId": {
            "type": "string",
            "description": "Унікальний ідентифікатор замовлення."
          },
          "date": {
            "type": "string",
            "description": "Дата покупки.",
            "format": "date-time"
          },
          "totalAmount": {
            "type": "number",
            "description": "Загальна сума покупки.",
            "example": 150.5
          },
          "items": {
            "type": "array",
            "description": "Список товарів у цьому замовленні.",
            "items": {
              "$ref": "#/components/schemas/Product"
            }
          },
          "status": {
            "type": "string",
            "description": "Статус замовлення (completed, cancelled).",
            "example": "completed"
          },
          "shippingAddress": {
            "type": "string",
            "description": "Адреса доставки."
          },
          "paymentMethod": {
            "type": "string",
            "description": "Спосіб оплати (Credit Card, PayPal).",
            "example": "Credit Card"
          }
        }
      },
      "Payment": {
        "type": "object",
        "description": "Дані про платіж.",
        "properties": {
          "paymentId": {
            "type": "string",
            "description": "ID транзакції."
          },
          "amount": {
            "type": "number",
            "description": "Сума платежу.",
            "example": 150.5
          },
          "method": {
            "type": "string",
            "description": "Спосіб оплати.",
            "example": "Credit Card"
          },
          "status": {
            "type": "string",
            "description": "Статус платежу (Completed, Failed).",
            "example": "Completed"
          },
          "date": {
            "type": "string",
            "description": "Дата платежу.",
            "format": "date-time"
          }
        }
      }
    }
  }
}
